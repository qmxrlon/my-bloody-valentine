<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>Valentinstag üíò</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: radial-gradient(circle, #ffe0f0, #ffb6d5);
  text-align: center;
  padding: 40px;
  overflow-x: hidden;
}

.card {
  background: white;
  border-radius: 25px;
  padding: 35px;
  max-width: 460px;
  margin: auto;
  box-shadow: 0 0 25px rgba(0,0,0,0.25);
  position: relative;
  z-index: 10;
}

h1 { color:#e60073; }

input {
  padding:12px;
  width:80%;
  border-radius:12px;
  border:1px solid #ccc;
  margin-bottom:20px;
}

button {
  padding:12px 26px;
  font-size:18px;
  border:none;
  border-radius:15px;
  cursor:pointer;
  margin:10px;
}

.yes { background:#ff4da6; color:white; }
.no { background:lightgray; position:relative; }

.cats img {
  width:140px;
  margin:10px;
  border-radius:15px;
}

#happyCat { display:none; margin-top:20px; }

#result { min-height:80px; }

.confetti, .heart {
  position:fixed;
  width:14px;
  height:14px;
  background:pink;
  transform: rotate(45deg);
  top:100vh;
  z-index:5;
}

.heart::before,
.heart::after {
  content:"";
  width:14px;
  height:14px;
  background:pink;
  position:absolute;
  border-radius:50%;
}
.heart::before { top:-7px; left:0; }
.heart::after { left:-7px; top:0; }

.firework {
  position:fixed;
  width:8px;
  height:8px;
  background:gold;
  border-radius:50%;
  animation: explode 1s forwards;
}

@keyframes explode {
  to {
    transform: translate(var(--x), var(--y)) scale(0);
    opacity:0;
  }
}

/* Typing Cursor */
.cursor {
  display:inline-block;
  animation: blink 1s infinite;
}
@keyframes blink {
  50% { opacity:0; }
}

#screenshotBtn {
  display:none;
  margin-top:15px;
  background:#ff7abf;
}
</style>
</head>

<body>

<div class="card">

<h1>üíñ M√∂chtest du mein Valentinstag Date sein? üíñ</h1>

<input id="nameInput" placeholder="Dein Name..." />

<div>
  <button class="yes" onclick="sayYes()">Jaaaa üíï</button>
  <button class="no" id="noBtn">Nein üòè(nuh uh)</button>
</div>

<div id="result"></div>

<button id="screenshotBtn" onclick="takeShot()">üì∏ Screenshot machen</button>

<img id="happyCat" src="https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif" width="220">

<div class="cats">
  <img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif">
  <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">
  <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">
</div>

</div>

<!-- Sounds -->
<audio id="music" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/10/03/audio_4c8c9c1e91.mp3">
</audio>

<audio id="fireSound">
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_52a5f8bda7.mp3">
</audio>

<script>
const noBtn = document.getElementById("noBtn");

noBtn.addEventListener("mouseover", () => {
  const x = Math.random()*240 -120;
  const y = Math.random()*240 -120;
  noBtn.style.transform = `translate(${x}px, ${y}px)`;
});

function sayYes() {
  const name = document.getElementById("nameInput").value || "Du";

  document.getElementById("music").play();
  document.getElementById("fireSound").play();

  typeText(`üíò Dankesch√∂n ${name}! Ich freue mich so sehrrr ü•∞ und ich liebe dich √ºber alles üíñüê±`);

  document.getElementById("happyCat").style.display="block";
  document.getElementById("screenshotBtn").style.display="inline-block";

  heartsFly();
  fireworks();
}

function typeText(text) {
  const box = document.getElementById("result");
  box.innerHTML = "";
  let i=0;
  const span = document.createElement("span");
  const cursor = document.createElement("span");
  cursor.className="cursor";
  cursor.innerText="|";
  box.append(span,cursor);

  const interval = setInterval(()=>{
    span.innerText += text[i];
    i++;
    if(i>=text.length){
      clearInterval(interval);
      cursor.remove();
    }
  },45);
}

function heartsFly(){
  for(let i=0;i<35;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);

    const y=-Math.random()*120-60;
    const x=Math.random()*200-100;

    h.animate([
      {transform:"translateY(0) scale(1)"},
      {transform:`translate(${x}px, ${y}px) scale(1.5)`}
    ],{duration:1800});

    setTimeout(()=>h.remove(),2000);
  }
}

function fireworks(){
  for(let i=0;i<25;i++){
    const f=document.createElement("div");
    f.className="firework";
    f.style.left="50vw";
    f.style.top="50vh";
    f.style.setProperty("--x",(Math.random()*400-200)+"px");
    f.style.setProperty("--y",(Math.random()*400-200)+"px");
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}

function takeShot(){
  html2canvas(document.body).then(canvas=>{
    const a=document.createElement("a");
    a.href=canvas.toDataURL();
    a.download="valentine.png";
    a.click();
  });
}
</script>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

</body>
</html>
