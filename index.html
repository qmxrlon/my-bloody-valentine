<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Valentinstag ğŸ’˜</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: radial-gradient(circle, #ffe0f0, #ffb6d5);
  text-align: center;
  padding: 20px;
  overflow-x: hidden;
}

.card {
  background: white;
  border-radius: 22px;
  padding: 25px;
  max-width: 420px;
  width: 95%;
  margin: auto;
  box-shadow: 0 0 20px rgba(0,0,0,0.25);
}

h1 {
  color:#e60073;
  font-size: 1.6rem;
}

input {
  padding: 12px;
  width: 90%;
  border-radius: 12px;
  border: 1px solid #ccc;
  font-size: 16px;
}

button {
  padding: 12px 22px;
  font-size: 17px;
  border-radius: 14px;
  margin: 8px;
}

.yes { background:#ff4da6; color:white; }
.no { background:lightgray; position:relative; }

.cats img {
  width: 110px;
  margin: 6px;
  border-radius: 14px;
}

#happyCat { display:none; width:200px; margin-top:15px; }

#result { margin-top:15px; min-height:90px; }

#screenshotBtn {
  display:none;
  margin-top:12px;
  background:#ff7abf;
}

/* Falling hearts */
.heartRain {
  position: fixed;
  top: -20px;
  width: 18px;
  height: 18px;
  background: #ff4da6;
  transform: rotate(45deg);
  animation: fall linear forwards;
  z-index: 1;
}

.heartRain::before,
.heartRain::after {
  content:"";
  width:18px;
  height:18px;
  background:#ff4da6;
  position:absolute;
  border-radius:50%;
}
.heartRain::before { top:-9px; left:0; }
.heartRain::after { left:-9px; top:0; }

@keyframes fall {
  to {
    transform: translateY(110vh) rotate(45deg);
    opacity:0;
  }
}

/* glow effect */
body.loveMode {
  animation: glow 2s infinite alternate;
}
@keyframes glow {
  from { background:#ffd6eb; }
  to { background:#ffb6d5; }
}
</style>
</head>

<body>

<div class="card">

<h1>ğŸ’– MÃ¶chtest du mein Valentinstag Date sein? ğŸ’–</h1>

<input id="nameInput" placeholder="Dein Name..." />

<div>
  <button class="yes" onclick="sayYes()">Ja ğŸ’•</button>
  <button class="no" id="noBtn">Nein (nuh uh)ğŸ˜</button>
</div>

<div id="result"></div>

<button id="screenshotBtn" onclick="takeShot()">ğŸ“¸ Screenshot machen</button>

<img id="happyCat" src="https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif">

<div class="cats">
  <img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif">
  <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">
  <img src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif">
</div>

</div>

<!-- Sounds -->
<audio id="music" preload="auto" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/10/03/audio_4c8c9c1e91.mp3">
</audio>

<audio id="fireSound" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_52a5f8bda7.mp3">
</audio>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script>
const noBtn = document.getElementById("noBtn");

noBtn.addEventListener("mouseover", () => {
  const x = Math.random()*200 -100;
  const y = Math.random()*200 -100;
  noBtn.style.transform = `translate(${x}px, ${y}px)`;
});

// also on touch devices:
noBtn.addEventListener("touchstart", () => {
  const x = Math.random()*200 -100;
  const y = Math.random()*200 -100;
  noBtn.style.transform = `translate(${x}px, ${y}px)`;
});

function sayYes() {
  const name = document.getElementById("nameInput").value || "Du";

  document.body.classList.add("loveMode");

  document.getElementById("music").play().catch(()=>{});
  document.getElementById("fireSound").play().catch(()=>{});

  document.getElementById("result").innerHTML =
   `<h2>ğŸ’˜ DankeschÃ¶n ${name}!</h2>
    <p>Ich freue mich riesig ğŸ¥° und ich liebe dich Ã¼ber alles mwuah ğŸ’–ğŸ±</p>`;

  document.getElementById("happyCat").style.display="block";
  document.getElementById("screenshotBtn").style.display="inline-block";

  startHeartRain();
}

function startHeartRain(){
  setInterval(()=>{
    const h=document.createElement("div");
    h.className="heartRain";
    h.style.left=Math.random()*100+"vw";
    h.style.animationDuration=(Math.random()*2+3)+"s";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),5000);
  },300);
}

function takeShot(){
  html2canvas(document.body).then(canvas=>{
    const a=document.createElement("a");
    a.href=canvas.toDataURL();
    a.download="valentine.png";
    a.click();
  });
}
</script>

</body>
</html>
